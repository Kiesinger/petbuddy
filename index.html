<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Petbuddy</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>

  <!-- Login View -->
  <section id="auth-section">
    <div style="text-align: center; margin-top: 50px;">
      <img src="logo.png" alt="Logo" style="height: 120px;" />
      <h1 style="font-size: 2em;">🐾 Petbuddy</h1>
    </div>
    <div style="text-align: center; margin-top: 20px;">
      <input type="email" id="email" placeholder="Email" />
      <input type="password" id="password" placeholder="Passwort" />
      <button id="login-btn">Login</button>
      <button id="signup-btn">Registrieren</button>
    </div>
  </section>

  <!-- App Header -->
  <header id="app-header" class="hidden" style="display: flex; justify-content: space-between; align-items: center; padding: 10px;">
    <div style="display: flex; align-items: center;">
      <img src="logo.png" alt="Logo" style="height: 50px; margin-right: 10px;" />
      <h1 style="margin: 0;">🐾 Petbuddy</h1>
    </div>
    <div style="display: flex; align-items: center; gap: 10px;">
      <select id="page-select" class="hidden"></select>
      <button id="logout-btn" class="hidden" style="padding: 5px 10px;">Logout</button>
    </div>
  </header>

  <!-- Nachricht -->
  <div id="message-box" class="hidden"></div>

  <!-- Seiten -->
  <section id="profile-page" class="page hidden">
    <h2>Profil</h2>
    <input type="text" id="name" placeholder="Dein Name" />
    <input type="text" id="age" placeholder="Alter" />
    <input type="text" id="location" placeholder="Ort" />
    <input type="text" id="gender" placeholder="Geschlecht" />
    <input type="text" id="role" placeholder="Rolle (z. B. Sitter)" />
    <label>Verfügbar von: <input type="date" id="available-from" /></label>
    <label>Verfügbar bis: <input type="date" id="available-to" /></label>
    <label>Profilbild: <input type="file" id="profile-image" accept="image/*" /></label>
    <img id="profile-preview" style="max-width: 150px; display: block; margin-top: 10px;" />
    <button id="save-profile">Speichern</button>
  </section>

  <section id="pets-page" class="page hidden">
    <h2>Meine Tiere</h2>
    <form id="pet-form">
      <input type="text" id="pet-name" placeholder="Name" required />
      <input type="text" id="pet-type" placeholder="Tierart (z. B. Hund)" required />
      <input type="text" id="pet-description" placeholder="Beschreibung" />
      <select id="pet-role">
        <option value="owner">Ich suche Betreuung</option>
        <option value="sitter">Ich biete Betreuung</option>
      </select>
      <input type="file" id="pet-image" accept="image/*" />
      <button type="submit">Tier speichern</button>
    </form>
    <ul id="pet-list"></ul>
  </section>

  <section id="search-page" class="page hidden">
    <h2>Suche nach Betreuung</h2>
    <label for="filter-location">Ort:</label>
    <select id="filter-location"><option value="">Alle Orte</option></select>
    <label for="filter-pet-type">Tierart:</label>
    <select id="filter-pet-type"><option value="">Alle Tierarten</option></select>
    <button id="apply-filter">Filtern</button>
    <ul id="filtered-list"></ul>
    <h3>Suchende (Tierbesitzer)</h3>
    <ul id="users-list"></ul>
  </section>

  <section id="providers-page" class="page hidden">
    <h2>Anbieter</h2>
    <label for="provider-filter-location">Ort:</label>
    <select id="provider-filter-location"><option value="">Alle Orte</option></select>
    <label for="provider-filter-pet-type">Tierart:</label>
    <select id="provider-filter-pet-type"><option value="">Alle Tierarten</option></select>
    <button id="apply-provider-filter">Filtern</button>
    <ul id="sitters-list"></ul>
  </section>

  <section id="buddies-page" class="page hidden">
    <h2>Andere Nutzer</h2>
    <ul id="buddies-list"></ul>
  </section>

  <section id="chat-page" class="page hidden">
    <h2>Nachrichten</h2>
    <label>Empfänger:
      <select id="chat-user-select"></select>
    </label>
    <div id="chat-messages" style="border: 1px solid #ccc; padding: 10px; height: 200px; overflow-y: scroll;"></div>
    <input type="text" id="chat-input" placeholder="Nachricht schreiben…" />
    <button id="send-chat-btn">Senden</button>
  </section>

  <script src="script.js"></script>
</body>
</html>
